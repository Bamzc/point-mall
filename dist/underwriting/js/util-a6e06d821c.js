define(function(){function n(n,t){if(n===t)return!0;if(!(n instanceof Object&&t instanceof Object))return!1;if(n.constructor!==t.constructor)return!1;for(var e in n)if(n.hasOwnProperty(e)){if(!t.hasOwnProperty(e))return!1;if(n[e]===t[e])continue;if("object"!=typeof n[e])return!1;if(!Object.equals(n[e],t[e]))return!1}for(e in t)if(t.hasOwnProperty(e)&&!n.hasOwnProperty(e))return!1;return!0}function t(n){var t=window.document.location.pathname.indexOf("underwriting")>-1?"underwriting":"exchangeShop";$.ajax({url:__EBT__.BASEPATH+"/rev/"+t+"/rev-manifest.json",type:"get",async:!1,cache:!1,dataType:"json",success:function(t){n(t)},error:function(){alert("请求超时")}})}function e(n,t){$.ajax({url:__EBT__.BASEPATH+"/"+n,type:"get",async:!0,dataType:"html",cache:!1,success:function(n){t(n)},error:function(){alert("请求超时")}})}function r(n){var t=location.href.split("#")[0];require(["jweixin"],function(e){$.ajax({type:"post",url:"/point/auth/wechatSign.htm",dataType:"json",data:{pageurl:t},success:function(t){if(t.success){var r=t.wakeUp;e.config({debug:!1,appId:r.appid,timestamp:r.timestamp,nonceStr:r.nonceStr,signature:r.signature,jsApiList:["scanQRCode"]}),n()}},error:function(n){alert(n)}})})}return{isEqualObj:n,revInterceptor:t,requestHtml:e,pathname:window.location.pathname,wxConfig:r}});